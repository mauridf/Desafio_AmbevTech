2025-08-26 22:10:03.289 -03:00 [INF] Executed DbCommand (1,225ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Desafio_AmbevTech];
2025-08-26 22:10:03.657 -03:00 [INF] Executed DbCommand (308ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Desafio_AmbevTech] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-08-26 22:10:03.698 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 22:10:03.707 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-26 22:10:03.850 -03:00 [INF] Executed DbCommand (140ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-26 22:10:03.967 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-26 22:10:03.985 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 22:10:03.999 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-26 22:10:04.036 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-26 22:10:04.055 -03:00 [INF] Applying migration '20250827010937_InitialCreate'.
2025-08-26 22:10:04.085 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sales] (
    [Id] uniqueidentifier NOT NULL,
    [SaleNumber] nvarchar(20) NOT NULL,
    [Date] datetime2 NOT NULL,
    [CustomerId] uniqueidentifier NOT NULL,
    [BranchId] uniqueidentifier NOT NULL,
    [Cancelled] bit NOT NULL,
    CONSTRAINT [PK_Sales] PRIMARY KEY ([Id])
);
2025-08-26 22:10:04.098 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SaleItems] (
    [Id] uniqueidentifier NOT NULL,
    [ProductId] uniqueidentifier NOT NULL,
    [Quantity] int NOT NULL,
    [UnitPrice] decimal(18,2) NOT NULL,
    [DiscountPercent] decimal(5,2) NOT NULL,
    [SaleId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_SaleItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SaleItems_Sales_SaleId] FOREIGN KEY ([SaleId]) REFERENCES [Sales] ([Id]) ON DELETE CASCADE
);
2025-08-26 22:10:04.112 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_SaleItems_SaleId] ON [SaleItems] ([SaleId]);
2025-08-26 22:10:04.137 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250827010937_InitialCreate', N'9.0.8');
2025-08-26 22:10:04.152 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-26 22:18:50.990 -03:00 [INF] Starting web host
2025-08-26 22:18:51.223 -03:00 [INF] User profile is available. Using 'C:\Users\mauri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 22:18:51.840 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger - null null
2025-08-26 22:18:52.162 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 22:18:52.163 -03:00 [INF] Hosting environment: Development
2025-08-26 22:18:52.163 -03:00 [INF] Content root path: C:\Projetos\.NET\Desafio_AmbevTech\src\Desafio.Api
2025-08-26 22:18:53.316 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - null null
2025-08-26 22:18:53.346 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger - 301 null null 1521.5613ms
2025-08-26 22:18:53.432 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - 200 null text/html;charset=utf-8 117.6028ms
2025-08-26 22:18:53.518 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/swagger-ui.css - null null
2025-08-26 22:18:53.525 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/swagger-ui-bundle.js - null null
2025-08-26 22:18:53.529 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/swagger-ui-standalone-preset.js - null null
2025-08-26 22:18:53.570 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-08-26 22:18:53.572 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/swagger-ui.css - 200 152034 text/css 54.4424ms
2025-08-26 22:18:53.573 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-08-26 22:18:53.584 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 54.6547ms
2025-08-26 22:18:53.635 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-26 22:18:53.667 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 144.3859ms
2025-08-26 22:18:53.709 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 22:18:53.714 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 3.8872ms
2025-08-26 22:18:53.728 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/_vs/browserLink - null null
2025-08-26 22:18:53.895 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/_vs/browserLink - 200 null text/javascript; charset=UTF-8 166.9409ms
2025-08-26 22:18:54.574 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - null null
2025-08-26 22:18:54.603 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.863ms
2025-08-26 22:18:55.801 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/favicon-32x32.png - null null
2025-08-26 22:18:55.803 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-08-26 22:18:55.803 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/favicon-32x32.png - 200 628 image/png 2.7695ms
2025-08-26 22:19:50.433 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/api/v1/Sales - null null
2025-08-26 22:19:50.638 -03:00 [INF] Executing endpoint 'Desafio.Api.Controllers.SalesController.GetAll (Desafio.Api)'
2025-08-26 22:19:50.695 -03:00 [INF] Route matched with {action = "GetAll", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Desafio.Application.DTOs.SaleDto]]] GetAll() on controller Desafio.Api.Controllers.SalesController (Desafio.Api).
2025-08-26 22:19:53.845 -03:00 [INF] Executed DbCommand (261ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BranchId], [s].[Cancelled], [s].[CustomerId], [s].[Date], [s].[SaleNumber], [s0].[Id], [s0].[DiscountPercent], [s0].[ProductId], [s0].[Quantity], [s0].[SaleId], [s0].[UnitPrice]
FROM [Sales] AS [s]
LEFT JOIN [SaleItems] AS [s0] ON [s].[Id] = [s0].[SaleId]
ORDER BY [s].[Id]
2025-08-26 22:19:53.890 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Desafio.Domain.Entities.Sale, Desafio.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Desafio.Application.DTOs.SaleDto, Desafio.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-26 22:19:53.909 -03:00 [INF] Executed action Desafio.Api.Controllers.SalesController.GetAll (Desafio.Api) in 3209.5337ms
2025-08-26 22:19:53.910 -03:00 [INF] Executed endpoint 'Desafio.Api.Controllers.SalesController.GetAll (Desafio.Api)'
2025-08-26 22:19:53.912 -03:00 [INF] HTTP GET /api/v1/Sales responded 200 in 3473.6246 ms
2025-08-26 22:19:53.921 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/api/v1/Sales - 200 null application/json; charset=utf-8 3487.619ms
2025-08-26 22:30:08.703 -03:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 22:30:09.121 -03:00 [INF] Executed DbCommand (310ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-26 22:30:09.803 -03:00 [ERR] Failed executing DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-26 22:30:09.836 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Desafio.Data.DefaultContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:8f4ce01e-e694-4290-b72a-946468443535
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:8f4ce01e-e694-4290-b72a-946468443535
Error Number:208,State:1,Class:16
2025-08-26 22:31:33.616 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 22:31:33.666 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-26 22:31:33.741 -03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-26 22:31:33.823 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-26 22:31:33.835 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 22:31:33.840 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-26 22:31:33.855 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-26 22:31:33.869 -03:00 [INF] Applying migration '20250827013110_UserCreate'.
2025-08-26 22:31:33.915 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Username] nvarchar(max) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Role] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-08-26 22:31:33.938 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250827013110_UserCreate', N'9.0.8');
2025-08-26 22:31:33.947 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-26 22:32:15.319 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 22:32:15.519 -03:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-26 22:32:16.030 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-26 22:32:16.371 -03:00 [INF] Executed DbCommand (175ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2025-08-26 22:32:16.802 -03:00 [INF] Starting web host
2025-08-26 22:32:16.886 -03:00 [INF] User profile is available. Using 'C:\Users\mauri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 22:32:17.573 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - null null
2025-08-26 22:32:17.738 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 22:32:17.739 -03:00 [INF] Hosting environment: Development
2025-08-26 22:32:17.740 -03:00 [INF] Content root path: C:\Projetos\.NET\Desafio_AmbevTech\src\Desafio.Api
2025-08-26 22:32:18.253 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - 200 null text/html;charset=utf-8 696.2477ms
2025-08-26 22:32:18.412 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 22:32:18.431 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 6.5911ms
2025-08-26 22:32:18.431 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/_vs/browserLink - null null
2025-08-26 22:32:18.552 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/_vs/browserLink - 200 null text/javascript; charset=UTF-8 120.7908ms
2025-08-26 22:32:19.092 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - null null
2025-08-26 22:32:19.120 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.2319ms
2025-08-26 22:34:11.803 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/api/v1/Auth/login - application/json 52
2025-08-26 22:34:12.057 -03:00 [INF] Executing endpoint 'Desafio.Api.Controllers.AuthController.Login (Desafio.Api)'
2025-08-26 22:34:12.100 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Desafio.Application.DTOs.LoginDto) on controller Desafio.Api.Controllers.AuthController (Desafio.Api).
2025-08-26 22:34:12.381 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__dto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__dto_Username_0
2025-08-26 22:34:12.466 -03:00 [INF] Executing OkObjectResult, writing value of type 'Desafio.Application.DTOs.LoginResponseDto'.
2025-08-26 22:34:12.472 -03:00 [INF] Executed action Desafio.Api.Controllers.AuthController.Login (Desafio.Api) in 366.6753ms
2025-08-26 22:34:12.473 -03:00 [INF] Executed endpoint 'Desafio.Api.Controllers.AuthController.Login (Desafio.Api)'
2025-08-26 22:34:12.475 -03:00 [INF] HTTP POST /api/v1/Auth/login responded 200 in 649.0067 ms
2025-08-26 22:34:12.488 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/api/v1/Auth/login - 200 null application/json; charset=utf-8 688.8386ms
2025-08-26 22:35:37.731 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/api/v1/Sales - null null
2025-08-26 22:35:37.756 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-26 22:35:37.761 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-26 22:35:37.761 -03:00 [INF] HTTP GET /api/v1/Sales responded 401 in 25.7294 ms
2025-08-26 22:35:37.772 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/api/v1/Sales - 401 null null 40.6431ms
2025-08-26 22:35:53.106 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/api/v1/Sales - null null
2025-08-26 22:35:53.110 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-26 22:35:53.111 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-26 22:35:53.111 -03:00 [INF] HTTP GET /api/v1/Sales responded 401 in 4.4991 ms
2025-08-26 22:35:53.113 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/api/v1/Sales - 401 null null 6.9946ms
2025-08-26 23:13:27.676 -03:00 [INF] Executed DbCommand (1,086ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-26 23:13:31.725 -03:00 [INF] Executed DbCommand (3,354ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-26 23:13:32.360 -03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-26 23:13:33.018 -03:00 [INF] Starting web host
2025-08-26 23:13:33.083 -03:00 [INF] User profile is available. Using 'C:\Users\mauri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-26 23:13:33.690 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - null null
2025-08-26 23:13:33.901 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-26 23:13:33.902 -03:00 [INF] Hosting environment: Development
2025-08-26 23:13:33.903 -03:00 [INF] Content root path: C:\Projetos\.NET\Desafio_AmbevTech\src\Desafio.Api
2025-08-26 23:13:34.379 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - 200 null text/html;charset=utf-8 707.2423ms
2025-08-26 23:13:34.562 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/_vs/browserLink - null null
2025-08-26 23:13:34.562 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/_framework/aspnetcore-browser-refresh.js - null null
2025-08-26 23:13:34.570 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 6.5367ms
2025-08-26 23:13:34.661 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/_vs/browserLink - 200 null text/javascript; charset=UTF-8 99.8209ms
2025-08-26 23:13:35.029 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - null null
2025-08-26 23:13:35.061 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.8263ms
2025-08-26 23:14:32.661 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/api/v1/Auth/login - application/json 52
2025-08-26 23:14:32.777 -03:00 [INF] Executing endpoint 'Desafio.Api.Controllers.AuthController.Login (Desafio.Api)'
2025-08-26 23:14:32.806 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Desafio.Application.DTOs.LoginDto) on controller Desafio.Api.Controllers.AuthController (Desafio.Api).
2025-08-26 23:14:33.077 -03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__dto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__dto_Username_0
2025-08-26 23:14:33.189 -03:00 [INF] Executing OkObjectResult, writing value of type 'Desafio.Application.DTOs.LoginResponseDto'.
2025-08-26 23:14:33.194 -03:00 [INF] Executed action Desafio.Api.Controllers.AuthController.Login (Desafio.Api) in 384.4328ms
2025-08-26 23:14:33.195 -03:00 [INF] Executed endpoint 'Desafio.Api.Controllers.AuthController.Login (Desafio.Api)'
2025-08-26 23:14:33.197 -03:00 [INF] HTTP POST /api/v1/Auth/login responded 200 in 507.1128 ms
2025-08-26 23:14:33.205 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/api/v1/Auth/login - 200 null application/json; charset=utf-8 544.3881ms
2025-08-26 23:16:01.783 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/api/v1/Sales - application/json 392
2025-08-26 23:16:01.810 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-26 23:16:01.814 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-26 23:16:01.815 -03:00 [INF] HTTP POST /api/v1/Sales responded 401 in 25.6504 ms
2025-08-26 23:16:01.817 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/api/v1/Sales - 401 null null 40.7443ms
2025-08-26 23:16:42.678 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/api/v1/Sales - application/json 392
2025-08-26 23:16:42.803 -03:00 [INF] Executing endpoint 'Desafio.Api.Controllers.SalesController.Create (Desafio.Api)'
2025-08-26 23:16:42.819 -03:00 [INF] Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Desafio.Application.DTOs.SaleDto]] Create(Desafio.Application.DTOs.SaleCreateDto) on controller Desafio.Api.Controllers.SalesController (Desafio.Api).
2025-08-26 23:16:42.862 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 23:16:42.907 -03:00 [INF] Executed action Desafio.Api.Controllers.SalesController.Create (Desafio.Api) in 87.1057ms
2025-08-26 23:16:42.907 -03:00 [INF] Executed endpoint 'Desafio.Api.Controllers.SalesController.Create (Desafio.Api)'
2025-08-26 23:16:42.907 -03:00 [INF] HTTP POST /api/v1/Sales responded 400 in 227.5322 ms
2025-08-26 23:16:42.907 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/api/v1/Sales - 400 null application/problem+json; charset=utf-8 229.4425ms
2025-08-26 23:22:05.443 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/api/v1/Sales - application/json 491
2025-08-26 23:22:05.449 -03:00 [INF] Executing endpoint 'Desafio.Api.Controllers.SalesController.Create (Desafio.Api)'
2025-08-26 23:22:05.449 -03:00 [INF] Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Desafio.Application.DTOs.SaleDto]] Create(Desafio.Application.DTOs.SaleCreateDto) on controller Desafio.Api.Controllers.SalesController (Desafio.Api).
2025-08-26 23:22:05.466 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 23:22:05.467 -03:00 [INF] Executed action Desafio.Api.Controllers.SalesController.Create (Desafio.Api) in 17.1326ms
2025-08-26 23:22:05.467 -03:00 [INF] Executed endpoint 'Desafio.Api.Controllers.SalesController.Create (Desafio.Api)'
2025-08-26 23:22:05.467 -03:00 [INF] HTTP POST /api/v1/Sales responded 400 in 23.5608 ms
2025-08-26 23:22:05.468 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/api/v1/Sales - 400 null application/problem+json; charset=utf-8 25.2565ms
2025-08-26 23:22:18.135 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/api/v1/Sales - application/json 491
2025-08-26 23:22:18.137 -03:00 [INF] Executing endpoint 'Desafio.Api.Controllers.SalesController.Create (Desafio.Api)'
2025-08-26 23:22:18.137 -03:00 [INF] Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Desafio.Application.DTOs.SaleDto]] Create(Desafio.Application.DTOs.SaleCreateDto) on controller Desafio.Api.Controllers.SalesController (Desafio.Api).
2025-08-26 23:22:18.144 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 23:22:18.145 -03:00 [INF] Executed action Desafio.Api.Controllers.SalesController.Create (Desafio.Api) in 7.6383ms
2025-08-26 23:22:18.146 -03:00 [INF] Executed endpoint 'Desafio.Api.Controllers.SalesController.Create (Desafio.Api)'
2025-08-26 23:22:18.146 -03:00 [INF] HTTP POST /api/v1/Sales responded 400 in 10.4617 ms
2025-08-26 23:22:18.148 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/api/v1/Sales - 400 null application/problem+json; charset=utf-8 13.1135ms
2025-08-26 23:27:04.338 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/api/v1/Sales - application/json 397
2025-08-26 23:27:04.344 -03:00 [INF] Executing endpoint 'Desafio.Api.Controllers.SalesController.Create (Desafio.Api)'
2025-08-26 23:27:04.345 -03:00 [INF] Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Desafio.Application.DTOs.SaleDto]] Create(Desafio.Application.DTOs.SaleCreateDto) on controller Desafio.Api.Controllers.SalesController (Desafio.Api).
2025-08-26 23:27:04.349 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-26 23:27:04.352 -03:00 [INF] Executed action Desafio.Api.Controllers.SalesController.Create (Desafio.Api) in 6.151ms
2025-08-26 23:27:04.352 -03:00 [INF] Executed endpoint 'Desafio.Api.Controllers.SalesController.Create (Desafio.Api)'
2025-08-26 23:27:04.352 -03:00 [INF] HTTP POST /api/v1/Sales responded 400 in 10.1616 ms
2025-08-26 23:27:04.353 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/api/v1/Sales - 400 null application/problem+json; charset=utf-8 14.6537ms
2025-08-26 23:28:13.305 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/api/v1/Sales - application/json 393
2025-08-26 23:28:13.310 -03:00 [INF] Executing endpoint 'Desafio.Api.Controllers.SalesController.Create (Desafio.Api)'
2025-08-26 23:28:13.311 -03:00 [INF] Route matched with {action = "Create", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Desafio.Application.DTOs.SaleDto]] Create(Desafio.Application.DTOs.SaleCreateDto) on controller Desafio.Api.Controllers.SalesController (Desafio.Api).
2025-08-26 23:28:13.371 -03:00 [INF] Evento de domínio disparado: CompraCriada em "2025-08-27T02:28:13.3697881Z" | Detalhes: {"Sale":{"Id":"9932f653-4614-461a-91ec-b6fec06d1802","SaleNumber":"V001","Date":"2025-08-27T02:28:13.3693669Z","CustomerId":"11111111-1111-1111-1111-111111111111","BranchId":"22222222-2222-2222-2222-222222222222","Cancelled":false,"Items":[],"Total":0,"$type":"Sale"},"EventName":"CompraCriada","OccurredOn":"2025-08-27T02:28:13.3697881Z","$type":"SaleCreatedEvent"}
2025-08-26 23:28:13.387 -03:00 [INF] Evento de domínio disparado: ItemAdicionado em "2025-08-27T02:28:13.3870945Z" | Detalhes: {"Sale":{"Id":"9932f653-4614-461a-91ec-b6fec06d1802","SaleNumber":"V001","Date":"2025-08-27T02:28:13.3693669Z","CustomerId":"11111111-1111-1111-1111-111111111111","BranchId":"22222222-2222-2222-2222-222222222222","Cancelled":false,"Items":[{"Id":"80f3e485-a7b4-408d-a6a5-e725d99131ec","ProductId":"33333333-3333-3333-3333-333333333333","Quantity":5,"UnitPrice":100.00,"DiscountPercent":0.10,"Total":450.0000,"$type":"SaleItem"}],"Total":450.0000,"$type":"Sale"},"Item":{"Id":"80f3e485-a7b4-408d-a6a5-e725d99131ec","ProductId":"33333333-3333-3333-3333-333333333333","Quantity":5,"UnitPrice":100.00,"DiscountPercent":0.10,"Total":450.0000,"$type":"SaleItem"},"EventName":"ItemAdicionado","OccurredOn":"2025-08-27T02:28:13.3870945Z","$type":"SaleItemAddedEvent"}
2025-08-26 23:28:13.393 -03:00 [INF] Evento de domínio disparado: ItemAdicionado em "2025-08-27T02:28:13.3932866Z" | Detalhes: {"Sale":{"Id":"9932f653-4614-461a-91ec-b6fec06d1802","SaleNumber":"V001","Date":"2025-08-27T02:28:13.3693669Z","CustomerId":"11111111-1111-1111-1111-111111111111","BranchId":"22222222-2222-2222-2222-222222222222","Cancelled":false,"Items":[{"Id":"80f3e485-a7b4-408d-a6a5-e725d99131ec","ProductId":"33333333-3333-3333-3333-333333333333","Quantity":5,"UnitPrice":100.00,"DiscountPercent":0.10,"Total":450.0000,"$type":"SaleItem"},{"Id":"1ac68603-ebaf-4b78-910d-5aee9f147e97","ProductId":"44444444-4444-4444-4444-444444444444","Quantity":12,"UnitPrice":50.00,"DiscountPercent":0.20,"Total":480.0000,"$type":"SaleItem"}],"Total":930.0000,"$type":"Sale"},"Item":{"Id":"1ac68603-ebaf-4b78-910d-5aee9f147e97","ProductId":"44444444-4444-4444-4444-444444444444","Quantity":12,"UnitPrice":50.00,"DiscountPercent":0.20,"Total":480.0000,"$type":"SaleItem"},"EventName":"ItemAdicionado","OccurredOn":"2025-08-27T02:28:13.3932866Z","$type":"SaleItemAddedEvent"}
2025-08-26 23:28:13.865 -03:00 [INF] Executed DbCommand (123ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (Size = 20), @p6='?' (DbType = Guid), @p7='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?' (DbType = Int32), @p10='?' (DbType = Guid), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (DbType = Guid), @p13='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Guid), @p15='?' (DbType = Int32), @p16='?' (DbType = Guid), @p17='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Sales] ([Id], [BranchId], [Cancelled], [CustomerId], [Date], [SaleNumber])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INSERT INTO [SaleItems] ([Id], [DiscountPercent], [ProductId], [Quantity], [SaleId], [UnitPrice])
VALUES (@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17);
2025-08-26 23:28:13.898 -03:00 [INF] Venda criada via API: "9932f653-4614-461a-91ec-b6fec06d1802", itens adicionados: 2
2025-08-26 23:28:13.903 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Desafio.Application.DTOs.SaleDto'.
2025-08-26 23:28:13.944 -03:00 [INF] Executed action Desafio.Api.Controllers.SalesController.Create (Desafio.Api) in 632.4358ms
2025-08-26 23:28:13.944 -03:00 [INF] Executed endpoint 'Desafio.Api.Controllers.SalesController.Create (Desafio.Api)'
2025-08-26 23:28:13.946 -03:00 [INF] HTTP POST /api/v1/Sales responded 201 in 639.4821 ms
2025-08-26 23:28:13.947 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/api/v1/Sales - 201 null application/json; charset=utf-8 642.767ms
2025-08-26 23:29:41.049 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/api/v1/Sales - null null
2025-08-26 23:29:41.058 -03:00 [INF] Executing endpoint 'Desafio.Api.Controllers.SalesController.GetAll (Desafio.Api)'
2025-08-26 23:29:41.073 -03:00 [INF] Route matched with {action = "GetAll", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Desafio.Application.DTOs.SaleDto]]] GetAll() on controller Desafio.Api.Controllers.SalesController (Desafio.Api).
2025-08-26 23:29:41.339 -03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BranchId], [s].[Cancelled], [s].[CustomerId], [s].[Date], [s].[SaleNumber], [s0].[Id], [s0].[DiscountPercent], [s0].[ProductId], [s0].[Quantity], [s0].[SaleId], [s0].[UnitPrice]
FROM [Sales] AS [s]
LEFT JOIN [SaleItems] AS [s0] ON [s].[Id] = [s0].[SaleId]
ORDER BY [s].[Id]
2025-08-26 23:29:41.353 -03:00 [INF] Evento de domínio disparado: CompraCriada em "2025-08-27T02:29:41.3537874Z" | Detalhes: {"Sale":{"Id":"195baa10-6fcb-4fd4-ae9c-54a724b31160","SaleNumber":"V001","Date":"2025-08-27T02:29:41.3537849Z","CustomerId":"11111111-1111-1111-1111-111111111111","BranchId":"22222222-2222-2222-2222-222222222222","Cancelled":false,"Items":[],"Total":0,"$type":"Sale"},"EventName":"CompraCriada","OccurredOn":"2025-08-27T02:29:41.3537874Z","$type":"SaleCreatedEvent"}
2025-08-26 23:29:41.375 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Desafio.Domain.Entities.Sale, Desafio.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Desafio.Application.DTOs.SaleDto, Desafio.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-26 23:29:41.378 -03:00 [INF] Executed action Desafio.Api.Controllers.SalesController.GetAll (Desafio.Api) in 305.1447ms
2025-08-26 23:29:41.379 -03:00 [INF] Executed endpoint 'Desafio.Api.Controllers.SalesController.GetAll (Desafio.Api)'
2025-08-26 23:29:41.379 -03:00 [INF] HTTP GET /api/v1/Sales responded 200 in 326.0463 ms
2025-08-26 23:29:41.379 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/api/v1/Sales - 200 null application/json; charset=utf-8 330.4267ms
